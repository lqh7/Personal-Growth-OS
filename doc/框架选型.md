# 项目："个人成长操作系统" (Personal Growth OS) - 技术设计概要

> **📌 实施状态说明**
> - **当前实现**: ✅ 基于 **LangGraph + LangChain** 的MVP系统
> - **目标架构**: Agno框架 (本文档描述)
> - **技术栈差异**:
>   - **AI框架**: 当前使用 **LangGraph StateGraph** → 计划迁移到 **Agno**
>   - **记忆系统**: 当前使用 **Mem0** → 计划改用 **Agno User Memories**
>   - **数据库**: 当前仅使用 **SQLite + ChromaDB** → 未来可能引入Redis/MongoDB
> - **迁移计划**: 准备中 - Agno提供更简洁的声明式配置
>
> **重要**: 本文档描述的是**目标架构愿景**。当前实际技术栈请参考 `后端详细设计.md` 的实施状态说明。

---

## 1. 高层架构 (High-Level Architecture)

系统采用经典且健壮的**前后端分离**架构，并包含一个独立的**后台工作进程**，以实现职责分离和高内聚。


1.  **前端 (Frontend)**: 用户唯一的交互界面，一个纯粹的“展示层”。它负责渲染UI、响应用户操作，并通过RESTful API与后端进行数据交换。
2.  **后端 (Backend)**: 项目的“大脑”和“中枢神经”。它负责处理所有业务逻辑、编排和调用AI模型、读写数据层，并通过API为前端提供服务。
3.  **数据层 (Data Layer)**: 项目的“记忆体”，采用三位一体的记忆系统，分别存储事实、知识和交互记忆。
4.  **后台工作进程 (Background Worker)**: 一个独立的、持续运行的Python进程。它负责处理非实时的、计划性的任务，如“定时提醒”和“定时生成复盘报告”，与主后端服务解耦。

---

## 2. 技术栈选型 (The Tech Stack)

### 2.1. 前端 (Frontend)

*   **框架**: **Vue.js 3**
*   **语言**: **TypeScript**
*   **构建工具**: **Vite**
*   **状态管理**: **Pinia**
*   **UI组件库**: **Element Plus**

### 2.2. 后端 (Backend)

*   **框架**: **FastAPI (Python)**

### 2.3. 数据层 (Data Layer) - 三位一体的记忆系统

*   **关系数据库 (Factual Memory)**: **SQLite**
    *   **职责**: 存储所有结构化的、事实性的数据。是任务、笔记元数据、项目、用户配置等信息的唯一真实来源 (Single Source of Truth)。
*   **向量数据库 (Knowledge Corpus)**: **ChromaDB**
    *   **职责**: 作为用户的“知识语料库”。专门负责存储和检索所有“投喂”的文档、文章等长文本内容的向量化切片。主要服务于RAG，回答“关于[主题X]，我有什么资料？”这类问题。
*   **长期记忆层 (Long-Term Memory)**: **Agno User Memories**
    *   **职责**: 作为用户的"交互与偏好记忆"。通过Agno Agent的内置User Memories功能自动管理用户对话历史、上下文流转及个人偏好。回答"我们上次聊到什么了？"这类问题，为助手提供个性化能力。
    *   **注**: 使用Agno内置功能替代Mem0，无需额外依赖。

### 2.4. AI集成与编排 (AI Integration & Orchestration)

*   **核心Agent框架**: **Agno** (声明式配置)
    *   **Agno**: 轻量级多智能体框架，用于构建声明式、可扩展的AI Agent。
    *   **内置功能**: User Memories、Knowledge、Tools自动管理，无需手动编排。
    *   **Team协作**: 多Agent自动协调，实现"任务启动仪式"和"可交互复盘"等复杂工作流。
    *   **数据库统一**: SQLite + ChromaDB，通过声明式配置自动集成。
*   **LLM支持**: Agno直接支持多LLM提供商
    *   **支持的模型**: OpenAI、Claude、Ollama
    *   **统一接口**: 通过Agno的model参数切换LLM
    *   **LLM工厂模式**: 通过`core/llm_factory.py`统一管理（可选）

---